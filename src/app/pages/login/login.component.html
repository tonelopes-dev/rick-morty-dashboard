<div class="login-wrapper">
  <video #bgVideo autoplay muted loop class="bg-video" style="width: 100%; height: 100%; object-fit: cover">
    <source src="rick-and-morty.mp4" type="video/mp4" />
  </video>

  <div class="login-card glass">
    <h2 class="title">PORTAL LOGIN</h2>
    <p class="subtitle">Acesso Dimensional C-137</p>

    <form (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label for="username">Identificação Dimensional</label>
        <input
          id="username"
          type="text"
          placeholder="Seu nome"
          [(ngModel)]="username"
          name="username"
          required
        />
      </div>

      <div class="form-group">
        <label for="avatar">Escolha seu avatar</label>
        <div class="avatar-options">
          @for (avatarId of [1, 2, 3, 4, 5]; track avatarId) {
            <label class="avatar">
              <input
                type="radio"
                name="avatar"
                [value]="apiUrl + '/character/avatar/' + avatarId + '.jpeg'"
                [(ngModel)]="selectedAvatar"
              />
              <img
                [src]="apiUrl + '/character/avatar/' + avatarId + '.jpeg'"
                alt="Avatar"
              />
            </label>
          }
        </div>
      </div>

      <button
        class="portal-button"
        type="submit"
        [disabled]="!username || !selectedAvatar"
      >
        ATIVAR PORTAL
      </button>

      @if (errorMessage) {
        <div class="error-message">
          {{ errorMessage }}
        </div>
      }
    </form>
  </div>
</div>
